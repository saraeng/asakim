<!--
  Generated template for the PendingConsultantsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>יועצים הממתינים לבחירה</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-card>
    <ion-card-header>
      <h2 class="bold">יועצים הממתינים לבחירה</h2>
    </ion-card-header>

    <ion-card-content no-padding>
      <ion-list>
        <ion-item *ngFor="let consultant of consultants" no-padding>
          <ion-grid no-padding>
            <ion-row>
              <div class="box-btn-container" *ngIf="!consultantChosen" ion-col col-3 (click)="chooseConsultant(consultant)">
                <div class="box-btn">
                  <ion-icon class="box-btn-icon" name="checkmark" color="greener"></ion-icon>
                  <small>בחר יועץ</small>
                </div>
              </div>
              <div  *ngIf="!!consultantChosen && !consultant.chosen" ion-col col-3 (click)="chooseConsultant(consultant)">
                <ion-icon name="cancel" color="white"></ion-icon>
                <small>לא נבחר</small>
              </div>
              <div *ngIf="!!consultantChosen && !!consultant.chosen" ion-col col-3 (click)="chooseConsultant(consultant)">
                <ion-icon name="checkmark" color="black"></ion-icon>
                <small>נבחר</small>
              </div>
              <ion-col col-6 class="border-left">
                <rating [ngModel]="consultant.rate" readOnly="true" max="10" emptyStarIconName="star-outline" halfStarIconName="star-half"
                  starIconName="star" nullable="false">
                  <!--(ngModelChange)="onModelChange($event)" use it when you need to do something when user clicks on a star. in case you only need to change ngModel property, this property can be ommited.-->
                </rating>
                <h2 class="bold">{{consultant.name}}</h2>
                <h2 class="bold">{{consultant.specialization}}</h2>
                <h3 class="bold">{{consultant.subSpecialization}}</h3>
                <div class="key-value">
                  <p class="key">
                    <small>תאריך יעד</small>
                  </p>
                  <span>
                    <small>{{consultant.dueDate | date:'dd.MM.yy'}}</small>
                  </span>
                </div>
                <div>

                  <button ion-button clear (click)="toggleContactDetails(consultant)" icon-end>
                    <p>פרטי תקשורת</p>
                    <ion-icon name="{{consultant.open ? 'ios-arrow-up' : 'ios-arrow-down'}}" class="black"></ion-icon>
                  </button>
                </div>
              </ion-col>
              <div ion-col col-3>
                <div class="center-box">
                  <div>{{consultant.packNum}}</div>
                  <small>מס' חבילה</small>
                </div>
                <div class="center-box">
                  <div>{{consultant.hoursPerPack}}</div>
                  <small>שעות</small>
                </div>
              </div>
            </ion-row>
            <ion-row *ngIf="consultant.open">
              <div class="border-top detailsBox">
                <h1>{{consultant.name}}</h1>
                <div>{{consultant.contactDetails.phone}}</div>
                <div>{{consultant.contactDetails.email}}</div>
                <div>{{consultant.contactDetails.website}}</div>
              </div>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-list>
    </ion-card-content>

  </ion-card>
</ion-content>